(function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],u=0,p=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/TallerWebVue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"193c":function(e,t,a){"use strict";var n=a("21e1"),s=a.n(n);s.a},"1cdf":function(e,t,a){},"21e1":function(e,t,a){},"492b":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("main",[a("v-img",{attrs:{src:"https://images.unsplash.com/photo-1490131784822-b4626a8ec96a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1550&q=80"}},[a("div",{staticClass:"app-container"},[a("header",{staticClass:"app-header"},[a("v-app-bar",{attrs:{absolute:"",dark:"","shrink-on-scroll":"",dense:"",src:"https://images.unsplash.com/photo-1476249202953-93ec0d185ab7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1750&q=80","fade-img-on-scroll":""},scopedSlots:e._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""}},[a("v-tab",{attrs:{to:"/"}},[e._v("Home")]),a("v-tab",{attrs:{to:"/user"}},[e._v("Usuario")]),a("v-tab",{attrs:{to:"/dependency"}},[e._v("Dependencias")]),a("v-tab",{attrs:{to:"/users"}},[e._v("Lista de usuarios")]),a("v-tab",{attrs:{to:"/dependencies"}},[e._v("Lista de dependencias")]),a("v-tab",{attrs:{to:"/searchfilter"}},[e._v("Buscar usuarios")])],1)]},proxy:!0}])},[a("v-toolbar-title",[e._v("Gestión de Usuarios")])],1)],1),a("div",{staticClass:"content"},[a("router-view")],1)])])],1),a("v-footer",e._b({attrs:{padless:e.padless,dark:""}},"v-footer",e.localAttrs,!1),[a("v-card",{attrs:{width:"100%"}},[a("v-card-text",{staticClass:" white--text text-center "},[e._v(" "+e._s((new Date).getFullYear())+" — "),a("strong",[e._v("Alejandro Alvarado - Laura Rubio")])])],1)],1)],1)},r=[],i=(a("4160"),a("159b"),a("59ca")),o=(a("ea7b"),a("e71f"),{apiKey:"AIzaSyC1HP4pE47_EV74njlI1wkKIWRo8UGSUwc",authDomain:"tallergestionusuariosvue.firebaseapp.com",databaseURL:"https://tallergestionusuariosvue.firebaseio.com",projectId:"tallergestionusuariosvue",storageBucket:"tallergestionusuariosvue.appspot.com",messagingSenderId:"244542355985",appId:"1:244542355985:web:205e0e23932e07c05a8fb0"});i["initializeApp"](o);var l=i["firestore"](),c=(i["auth"](),l.collection("Users")),d=l.collection("Dependencies"),u={name:"App",data:function(){return{padless:!1,variant:"default"}},components:{},computed:{localAttrs:function(){var e={};return"default"===this.variant?(e.absolute=!0,e.fixed=!1):e[this.variant]=!0,e}},created:function(){var e=this;l.collection("Dependencies").get().then((function(t){t.forEach((function(t){return e.$store.state.dependencies.push(t.data())}))})),l.collection("Users").get().then((function(t){t.forEach((function(t){return e.$store.state.users.push(t.data())}))}))}},p=u,v=(a("5c0b"),a("2877")),m=a("6544"),f=a.n(m),b=a("7496"),h=a("40dc"),x=a("b0af"),y=a("99d9"),g=a("553a"),_=a("adda"),D=a("71a3"),k=a("fe57"),U=a("2a7f"),C=Object(v["a"])(p,s,r,!1,null,null,null),w=C.exports;f()(C,{VApp:b["a"],VAppBar:h["a"],VCard:x["a"],VCardText:y["b"],VFooter:g["a"],VImg:_["a"],VTab:D["a"],VTabs:k["a"],VToolbarTitle:U["a"]});var V=a("8c4f"),O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{attrs:{elevation:"10",shaped:""}},[a("v-card-title",[e._v("Bienvenido")]),a("v-card-text",[a("p",[e._v(" Aquí podras realizar toda la gestión de los usuarios y sus dependencias con facilidad: En la pestaña de usuario podrás agregar nuevos usuarios, en la pestaña de dependecia podras agregar nuevas dependencias. ")]),a("p",[e._v(" Para visualizar los datos que has agregado puedes verlo en Lista de usuarios o Lista de dependencias según desees, tambien es posible editarlos, eliminarlos o visualizar la información completa. Para realizar las busquedas de usuarios, se accede mediante la pestaña de Buscar Usuarios. En esta pestaña es posible realizar la busqueda por nombre de usuario y nombre de dependecia ")])])],1)],1)},E=[],$={data:function(){return{items:[]}}},j=$,I=a("a523"),R=Object(v["a"])(j,O,E,!1,null,null,null),S=R.exports;f()(R,{VCard:x["a"],VCardText:y["b"],VCardTitle:y["c"],VContainer:I["a"]});var F=a("f309");n["a"].use(F["a"]);var B=new F["a"]({}),L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("div",{staticClass:"form-wrapper"},[""!==e.editus.name?a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:e.nameRules,label:"Nombre",required:""},model:{value:e.editus.name,callback:function(t){e.$set(e.editus,"name",t)},expression:"editus.name"}})],1),a("v-col",[a("v-text-field",{attrs:{rules:e.nameRules,label:"Apellido",required:""},model:{value:e.editus.lastname,callback:function(t){e.$set(e.editus,"lastname",t)},expression:"editus.lastname"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:""},model:{value:e.editus.email,callback:function(t){e.$set(e.editus,"email",t)},expression:"editus.email"}})],1),a("v-col",[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:e.passwordRules,label:"Contraseña",required:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.editus.password,callback:function(t){e.$set(e.editus,"password",t)},expression:"editus.password"}})],1)],1),a("v-row",[a("v-col",[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.dateFinal,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.dateFinal=t},"update:return-value":function(t){e.dateFinal=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Seleccionar fecha de final","prepend-icon":"mdi-calendar",readonly:"",rules:e.dateRules},model:{value:e.editus.valid_until,callback:function(t){e.$set(e.editus,"valid_until",t)},expression:"editus.valid_until"}},"v-text-field",s,!1),n))]}}],null,!1,1213625495),model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[a("v-date-picker",{attrs:{locale:"es-419",rules:e.dateRules},model:{value:e.dateFinal,callback:function(t){e.dateFinal=t},expression:"dateFinal"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal2=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.dateFinal)}}},[e._v(" OK ")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-checkbox",{attrs:{label:"Activar usuario"},model:{value:e.editus.active,callback:function(t){e.$set(e.editus,"active",t)},expression:"editus.active"}})],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success",to:"/users"},on:{"!click":function(t){return e.sendChangesUser()}}},[e._v(" Guardar ")])],1):a("div",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:e.nameRules,label:"Nombre",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("v-col",[a("v-text-field",{attrs:{rules:e.nameRules,label:"Apellido",required:""},model:{value:e.user.lastname,callback:function(t){e.$set(e.user,"lastname",t)},expression:"user.lastname"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("v-col",[a("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",rules:e.passwordRules,label:"Contraseña",required:""},on:{"click:append":function(t){e.show1=!e.show1}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1)],1),a("v-row",[a("v-col",[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.dateFinal,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.dateFinal=t},"update:return-value":function(t){e.dateFinal=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{rules:e.dateRules,label:"Seleccionar fecha hasta la que se estará en la membresía","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.dateFinal,callback:function(t){e.dateFinal=t},expression:"dateFinal"}},"v-text-field",s,!1),n))]}}]),model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[a("v-date-picker",{attrs:{locale:"es-419"},model:{value:e.dateFinal,callback:function(t){e.dateFinal=t},expression:"dateFinal"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal2=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.dateFinal)}}},[e._v(" OK ")])],1)],1)],1),a("v-col")],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-subheader",[e._v(" Seleccionar dependencia ")])],1),a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{required:"",items:e.items,hint:e.select.name+", "+e.select.coor,"item-text":"name",label:"Select","return-object":"",rules:[function(e){return!!e||"Obligatorio"}],"single-line":""},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-checkbox",{attrs:{label:"Activar usuario"},model:{value:e.user.active,callback:function(t){e.$set(e.user,"active",t)},expression:"user.active"}})],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.validateUserCreation}},[e._v(" Guardar ")])],1)],1),a("v-alert",{attrs:{border:"left",color:"orange",dense:"",dismissible:"",outlined:"",prominent:"",text:"",transition:"scale-transition",type:"info"},model:{value:e.fullDependency,callback:function(t){e.fullDependency=t},expression:"fullDependency"}},[e._v("Esta dependencia no puede recibir mas miembros. "),a("br"),e._v(" Seleccione una dependencia que tenga espacio para recibir mas miembros.")]),a("v-alert",{attrs:{border:"left",color:"orange",dense:"",dismissible:"",outlined:"",prominent:"",text:"",transition:"scale-transition",type:"info"},model:{value:e.selectEmpty,callback:function(t){e.selectEmpty=t},expression:"selectEmpty"}},[e._v("Seleccione una dependencia para poder crear un usuario.")]),a("v-alert",{attrs:{border:"left",color:"green",dense:"",dismissible:"",outlined:"",prominent:"",text:"",transition:"scale-transition",type:"success"},model:{value:e.successfullUser,callback:function(t){e.successfullUser=t},expression:"successfullUser"}},[e._v("El registro del usuario fue existoso!")])],1)])],1)},T=[],q=(a("4fad"),a("5530")),A=a("2f62"),P={data:function(){return{fullDependency:!1,successfullUser:!1,inactiveDependency:!1,selectEmpty:!1,select:{},items:[],items2:[],id:0,show1:!1,user:{name:"",lastname:"",email:"",dependencyId:"",password:"",valid_until:"",active:!1},nameRules:[function(e){return!!e||"Obligatorio"},function(e){return e.length>2||"El nombre es muy corto"}],lastnameRules:[function(e){return!!e||"Obligatorio"},function(e){return e.length>2||"El apellido es muy corto"}],emailRules:[function(e){return!!e||"Obligatorio"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"Email no valido"}],passwordRules:[function(e){return!!e||"Obligatorio"}],dateRules:[function(e){return!!e||"Obligatorio"}],dependencyRules:[function(e){return!!e||"Obligatorio"}],user2:{},modal1:!1,modal2:!1,valid:!0,editus:this.$store.getters.editUse,dateInit:(new Date).toISOString().substr(0,10),dateFinal:(new Date).toISOString().substr(0,10)}},created:function(){},firestore:function(){return{items:l.collection("Dependencies").where("active","==",!0)}},methods:Object(q["a"])(Object(q["a"])({},Object(A["b"])(["createUser","updateMembers","sendChangesUser"])),{},{refresh:function(){this.select={},this.user={name:"",lastname:"",email:"",dependencyId:"",password:"",valid_until:"",active:!1}},validateUserCreation:function(){console.log("started creating user"),0===Object.entries(this.select).length?this.selectEmpty=!0:this.select.members+1>this.select.max?(console.log("user not allowed"),this.fullDependency=!0):(this.addUser(),this.successfullUser=!0)},addUser:function(){var e=a("8237"),t=e(this.user.password);console.log(t),this.user.password=t,this.user.valid_until=this.dateFinal,this.user.dependencyId=this.select.id,console.log(this.user),console.log(this.select),this.createUser(this.user);var n=[this.user.dependencyId,this.select.members+1];this.updateMembers(n),this.refresh()}}),computed:{editUse:function(){return this.$store.getters.editUse}}},M=P,G=a("0798"),z=a("8336"),N=a("ac7c"),H=a("62ad"),J=a("2e4b"),K=a("169a"),W=a("4bd4"),Q=a("0fd9"),Y=a("b974"),X=a("2fa4"),Z=a("e0c7"),ee=a("8654"),te=Object(v["a"])(M,L,T,!1,null,null,null),ae=te.exports;f()(te,{VAlert:G["a"],VBtn:z["a"],VCheckbox:N["a"],VCol:H["a"],VContainer:I["a"],VDatePicker:J["a"],VDialog:K["a"],VForm:W["a"],VRow:Q["a"],VSelect:Y["a"],VSpacer:X["a"],VSubheader:Z["a"],VTextField:ee["a"]});var ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"form-wrapper"},[" "!==e.editDep.name?a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Nombre",required:""},model:{value:e.editDep.name,callback:function(t){e.$set(e.editDep,"name",t)},expression:"editDep.name"}}),a("v-text-field",{attrs:{rules:e.coorRules,label:"Coordinador",required:""},model:{value:e.editDep.coor,callback:function(t){e.$set(e.editDep,"coor",t)},expression:"editDep.coor"}},[e._v("Bienvenido")]),a("v-text-field",{attrs:{rules:e.locationRules,label:"Ubicación",required:""},model:{value:e.editDep.location,callback:function(t){e.$set(e.editDep,"location",t)},expression:"editDep.location"}}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-checkbox",{attrs:{label:"Activar dependencia"},model:{value:e.editDep.active,callback:function(t){e.$set(e.editDep,"active",t)},expression:"editDep.active"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-slider",{attrs:{max:"20",label:"Numero maximo de usuarios","thumb-label":""},model:{value:e.editDep.max,callback:function(t){e.$set(e.editDep,"max",t)},expression:"editDep.max"}})],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success",to:"/dependencies"},on:{"!click":function(t){return e.sendChangesDepen()}}},[e._v(" Guardar ")])],1):a("div",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Nombre",required:""},model:{value:e.dependency.name,callback:function(t){e.$set(e.dependency,"name",t)},expression:"dependency.name"}}),a("v-text-field",{attrs:{rules:e.coorRules,label:"Coordinador",required:""},model:{value:e.dependency.coor,callback:function(t){e.$set(e.dependency,"coor",t)},expression:"dependency.coor"}}),a("v-text-field",{attrs:{rules:e.locationRules,label:"Ubicación",required:""},model:{value:e.dependency.location,callback:function(t){e.$set(e.dependency,"location",t)},expression:"dependency.location"}}),a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-checkbox",{attrs:{label:"Activar dependencia"},model:{value:e.dependency.active,callback:function(t){e.$set(e.dependency,"active",t)},expression:"dependency.active"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-slider",{attrs:{max:"20",label:"Numero maximo de usuarios","thumb-label":""},model:{value:e.dependency.max,callback:function(t){e.$set(e.dependency,"max",t)},expression:"dependency.max"}})],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.createDep}},[e._v(" Guardar ")])],1),a("v-alert",{attrs:{border:"left",color:"green",dense:"",dismissible:"",outlined:"",prominent:"",text:"",transition:"scale-transition",type:"success"},model:{value:e.successfullDependency,callback:function(t){e.successfullDependency=t},expression:"successfullDependency"}},[e._v("El registro de la dependencia fue existoso!")])],1)],1)])},se=[],re={data:function(){return{id:0,successfullDependency:!1,dependency:{name:" ",coor:" ",location:" ",max:0,active:!1,members:0},dependency2:{},valid:!0,editDep:this.$store.getters.editDepen,nameRules:[function(e){return!!e||"Obligatorio"},function(e){return e.length>2||"El nombre es muy corto"}],coorRules:[function(e){return!!e||"Obligatorio"},function(e){return e.length>2||"El nombre del coordinador es muy corto"}],locationRules:[function(e){return!!e||"Obligatorio"},function(e){return e.length>2||"La ubicación es muy corta"}]}},computed:{editDependency:function(){return this.$store.getters.editDepen}},methods:Object(q["a"])(Object(q["a"])({},Object(A["b"])(["sendChangesDepen","createDependency"])),{},{refresh:function(){this.dependency={name:" ",coor:" ",location:" ",max:0,active:!1,members:0}},createDep:function(){this.createDependency(this.dependency),console.log(d),this.refresh(),this.successfullDependency=!0}})},ie=re,oe=(a("9cff"),a("ba0d")),le=Object(v["a"])(ie,ne,se,!1,null,null,null),ce=le.exports;f()(le,{VAlert:G["a"],VBtn:z["a"],VCheckbox:N["a"],VCol:H["a"],VContainer:I["a"],VForm:W["a"],VRow:Q["a"],VSlider:oe["a"],VTextField:ee["a"]});var de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"form-wrapper"},[a("h2",[e._v("Lista de usuarios")]),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1000"}},[a("v-list",[a("v-list-item-group",{attrs:{mandatory:"",color:"indigo"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.usersore,(function(t,n){return a("v-list-item",{key:n},[a("v-list-item-content",[a("v-row",{staticClass:"userList"},[a("v-col",{staticClass:"dependencyitem"},[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{to:"/edituser",fab:"",dark:"",small:"",color:"primary"},on:{"!click":function(t){return e.editUser(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-pencil ")])],1)],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.infoUser(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-eye ")])],1)],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.deleteUser(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-delete ")])],1)],1)],1)],1)],1)})),1),a("v-dialog",{attrs:{"max-width":"360px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{scrollable:""}},[a("v-divider"),a("v-card-title",[e._v("Información de "+e._s(e.selectedUser.name))]),a("v-divider"),a("v-spacer"),a("br"),a("v-card-text",[a("p",[e._v(" Apellido: "+e._s(e.selectedUser.lastname)),a("br"),e._v(" Email: "+e._s(e.selectedUser.email)),a("br"),e._v(" Estado:"+e._s(e.selectedUser.active)),a("br"),e._v(" Fecha :"+e._s(e.selectedUser.valid_until)+" ")])]),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)],1)])},ue=[],pe={computed:{usersore:function(){return this.$store.getters.users}},data:function(){return{dialog:!1,selectedUser:"",model:!0}},methods:Object(q["a"])(Object(q["a"])(Object(q["a"])({},Object(A["b"])(["deleteUser"])),Object(A["b"])(["editUser"])),{},{infoUser:function(e){this.selectedUser=this.$store.state.users[e],this.dialog=!0}})},ve=pe,me=(a("193c"),a("ce7e")),fe=a("132d"),be=a("8860"),he=a("da13"),xe=a("5d23"),ye=a("1baa"),ge=Object(v["a"])(ve,de,ue,!1,null,null,null),_e=ge.exports;f()(ge,{VBtn:z["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:H["a"],VContainer:I["a"],VDialog:K["a"],VDivider:me["a"],VIcon:fe["a"],VList:be["a"],VListItem:he["a"],VListItemContent:xe["a"],VListItemGroup:ye["a"],VListItemTitle:xe["b"],VRow:Q["a"],VSpacer:X["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"form-wrapper"},[a("h2",[e._v("Lista de Dependencias")]),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1000"}},[a("v-list",[a("v-list-item-group",{attrs:{mandatory:"",color:"indigo"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.dependenciesStore,(function(t,n){return a("v-list-item",{key:n},[a("v-list-item-content",[a("v-row",[a("v-col",{staticClass:"dependencyitem"},[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{to:"/editdepenency",fab:"",dark:"",small:"",color:"primary"},on:{"!click":function(t){return e.editDependency(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-pencil ")])],1)],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){e.infoDependy(n),e.searchUserDepen(e.selectedDepen.name)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-eye ")])],1)],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(t){return e.deleteDependency(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-delete ")])],1)],1)],1)],1)],1)})),1),a("v-dialog",{attrs:{persistent:"","max-width":"360px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-divider",{staticStyle:{height:"600px"}}),a("v-card-title",[e._v("Información de "+e._s(e.selectedDepen.name))]),a("v-divider"),a("v-spacer"),a("br"),a("v-card-text",[a("strong"),a("p",[e._v(" Coor : "+e._s(e.selectedDepen.coor)+" Ubicacion: "+e._s(e.selectedDepen.location)),a("br"),e._v(" Cantidad maxima de usuarios "+e._s(e.selectedDepen.max)),a("br"),e._v(" Usuarios actuales:"+e._s(e.selectedDepen.members)),a("br"),e._v(" Estado:"+e._s(e.selectedDepen.active)),a("br")])]),a("v-simple-table",{attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v(" Usuario ")]),a("th",{staticClass:"text-left"},[e._v(" lastname ")]),a("th",{staticClass:"text-left"},[e._v(" email ")])])]),a("tbody",e._l(e.userbydepen,(function(t){return a("tr",{key:t.name},[a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.lastname))]),a("td",[e._v(e._s(t.email))])])})),0)]},proxy:!0}])}),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1,e.cleanUsersDepen()}}},[e._v(" Close ")])],1)],1)],1)],1)],1)],1)])},ke=[],Ue={data:function(){return{model:!0,dialog:!1,selectedDepen:"",usersDepen:""}},computed:{dependenciesStore:function(){return this.$store.getters.dependencies},userbydepen:function(){return this.$store.getters.userbydepen}},methods:Object(q["a"])(Object(q["a"])(Object(q["a"])(Object(q["a"])({infoDependy:function(e){this.selectedDepen=this.$store.state.dependencies[e],this.usersDepen=this.selectedDepen.members,this.dialog=!0}},Object(A["b"])(["deleteDependency"])),Object(A["b"])(["editDependency"])),Object(A["b"])(["searchUserDepen"])),Object(A["b"])(["cleanUsersDepen"]))},Ce=Ue,we=(a("92da"),a("1f4f")),Ve=Object(v["a"])(Ce,De,ke,!1,null,null,null),Oe=Ve.exports;f()(Ve,{VBtn:z["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:H["a"],VContainer:I["a"],VDialog:K["a"],VDivider:me["a"],VIcon:fe["a"],VList:be["a"],VListItem:he["a"],VListItemContent:xe["a"],VListItemGroup:ye["a"],VListItemTitle:xe["b"],VRow:Q["a"],VSimpleTable:we["a"],VSpacer:X["a"]});var Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[e.filterByUser?a("div",{staticClass:"form-wrapper"},[a("div",[a("h1",[e._v("Buscar usuarios por nombre")])]),a("v-toolbar",[a("v-text-field",{attrs:{placeholder:"Buscar usuarios"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("div",[a("v-btn",{attrs:{color:"primary"},on:{click:e.changeFilter}},[e._v(" Buscar por dependencia ")])],1),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1000"}},[a("v-list",[a("v-list-item-group",{attrs:{mandatory:"",color:"indigo"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.filteredUsers,(function(t,n){return a("v-list-item",{key:n},[a("v-list-item-content",[a("v-row",{staticClass:"userList"},[a("v-col",{staticClass:"dependencyitem"},[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return e.infoUser(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-eye ")])],1)],1)],1)],1)],1)})),1),a("v-dialog",{attrs:{"max-width":"360px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{scrollable:""}},[a("v-divider"),a("v-card-title",[e._v("Información de "+e._s(e.selectedUser.name))]),a("v-divider"),a("v-spacer"),a("br"),a("v-card-text",[a("p",[e._v(" Apellido: "+e._s(e.selectedUser.lastname)),a("br"),e._v(" Email: "+e._s(e.selectedUser.email)),a("br"),e._v(" Estado:"+e._s(e.selectedUser.active)),a("br"),e._v(" Fecha :"+e._s(e.selectedUser.valid_until)+" ")])]),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)],1):a("div",{staticClass:"form-wrapper"},[a("div",[a("h1",[e._v("Buscar usuarios por dependencia")]),a("h4",[e._v(" Por favor especifique el nombre exacto y luego presione el boton de busqueda. ")])]),a("v-toolbar",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:""},on:{click:e.searchUserByDepen}},"v-btn",s,!1),n),[a("v-icon",[e._v("mdi-magnify")])],1)]}}])},[a("span",[e._v("Buscar")])]),a("v-text-field",{attrs:{placeholder:"Buscar usuarios"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("div",[a("v-btn",{attrs:{color:"primary"},on:{click:e.changeFilter}},[e._v(" Buscar por nombre ")])],1),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1000"}},[a("v-list",[a("v-list-item-group",{attrs:{mandatory:"",color:"indigo"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.filteredUsersByDependency,(function(t,n){return a("v-list-item",{key:n},[a("v-list-item-content",[a("v-row",{staticClass:"userList"},[a("v-col",{staticClass:"dependencyitem"},[a("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1),a("v-col",{staticClass:"btnitems"},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(a){return e.infoUser(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-eye ")])],1)],1)],1)],1)],1)})),1),a("v-dialog",{attrs:{"max-width":"360px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{scrollable:""}},[a("v-divider"),a("v-card-title",[e._v("Información de "+e._s(e.selectedUser.name))]),a("v-divider"),a("v-spacer"),a("br"),a("v-card-text",[a("p",[e._v(" Apellido: "+e._s(e.selectedUser.lastname)),a("br"),e._v(" Email: "+e._s(e.selectedUser.email)),a("br"),e._v(" Estado:"+e._s(e.selectedUser.active)),a("br"),e._v(" Fecha :"+e._s(e.selectedUser.valid_until)+" ")])]),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)],1)])},$e=[],je=(a("4de4"),a("b0c0"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("841c"),{data:function(){return{search:"",users:[],filterByUser:!0,dialog:!1,selectedUser:"",model:!0}},created:function(){this.users=this.$store.getters.users},computed:{filteredUsers:function(){var e=this;return this.users.filter((function(t){var a=new RegExp(e.search,"gi");return""!=e.search?t.name.match(a):null}))},filteredUsersByDependency:function(){return this.$store.state.userbydepen}},methods:Object(q["a"])(Object(q["a"])({},Object(A["b"])(["deleteUser","searchUserDepen","editUser"])),{},{infoUser:function(e){console.log(e),this.selectedUser=e,this.dialog=!0},changeFilter:function(){this.filterByUser=!this.filterByUser,this.$store.state.userbydepen=[]},searchUserByDepen:function(){this.$store.state.userbydepen=[],this.searchUserDepen(this.search)}})}),Ie=je,Re=(a("f4bd"),a("71d9")),Se=a("3a2f"),Fe=Object(v["a"])(Ie,Ee,$e,!1,null,null,null),Be=Fe.exports;f()(Fe,{VBtn:z["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCol:H["a"],VContainer:I["a"],VDialog:K["a"],VDivider:me["a"],VIcon:fe["a"],VList:be["a"],VListItem:he["a"],VListItemContent:xe["a"],VListItemGroup:ye["a"],VListItemTitle:xe["b"],VRow:Q["a"],VSpacer:X["a"],VTextField:ee["a"],VToolbar:Re["a"],VTooltip:Se["a"]});a("7db0"),a("c975"),a("a434");n["a"].use(A["a"]);var Le=new A["a"].Store({state:{dependencies:[],users:[],status:!0,refresh:!0,editDepen:{id:"",name:" ",coor:" ",location:" ",max:0,active:!1,members:0},editUse:{id:"",name:"",lastname:"",email:"",dependencyId:"",password:"",valid_until:"",active:!1},indexuser:"",indexdepen:"",userbydepen:[]},mutations:{createDependency:function(e,t){d.add(t),e.dependencies.push(t)},updateMembers:function(e,t){var a=t[0];d.doc(a).update({members:t[1]})},deleteDependency:function(e,t){var a=e.dependencies[t];l.collection("Dependencies").get().then((function(t){t.forEach((function(t){if(t.data().name===a.name){var n=l.collection("Dependencies").doc(t.id).id;e.users.find((function(t){t.dependencyId===n&&(e.status=!1)})),e.status?l.collection("Dependencies").doc(t.id).delete():e.status=!0}}))})),e.dependencies.splice(t,1)},editDependency:function(e,t){var a=e.dependencies[t];e.indexdepen=a.name,l.collection("Dependencies").get().then((function(t){t.forEach((function(t){t.data().name===a.name&&(e.editDepen.id=t.id,e.editDepen.name=a.name,e.editDepen.coor=a.coor,e.editDepen.location=a.location,e.editDepen.max=a.max,e.editDepen.active=a.active,e.editDepen.members=a.members)}))}))},sendChangesDepen:function(e){var t=e.editDepen;l.collection("Dependencies").get().then((function(e){e.forEach((function(e){e.id===t.id&&l.collection("Dependencies").doc(e.id).update({active:t.active,coor:t.coor,location:t.location,name:t.name,max:t.max,members:t.members})}))}));var a=e.dependencies.find((function(t){return t.name==e.indexdepen})),n=e.dependencies.indexOf(a);e.dependencies[n]=t,e.editDepen={id:"",name:" ",coor:" ",location:" ",max:0,active:!1},e.indexdepen=""},createUser:function(e,t){c.add(t),e.users.push(t)},editUser:function(e,t){var a=e.users[t];e.indexuser=a.name,l.collection("Users").get().then((function(t){t.forEach((function(t){t.data().name===a.name&&(e.editUse.id=t.id,e.editUse.name=a.name,e.editUse.email=a.email,e.editUse.lastname=a.lastname,e.editUse.password=a.password,e.editUse.valid_until=a.valid_until,e.editUse.active=a.active)}))}))},deleteUser:function(e,t){var a=e.users[t],n=a.dependencyId;l.collection("Dependencies").get().then((function(e){e.forEach((function(e){e.id===n&&l.collection("Dependencies").doc(e.id).update({members:e.data().members-1})}))})),l.collection("Users").get().then((function(e){e.forEach((function(e){e.data().name===a.name&&l.collection("Users").doc(e.id).delete()}))})),e.users.splice(t,1)},sendChangesUser:function(e){var t=e.editUse;l.collection("Users").get().then((function(e){e.forEach((function(e){e.id===t.id&&l.collection("Users").doc(e.id).update({name:t.name,email:t.email,lastname:t.lastname,password:t.password})}))}));var a=e.users.find((function(t){return t.name==e.indexuser})),n=e.users.indexOf(a);e.users[n]=t,e.editUse={id:"",name:"",lastname:"",email:"",dependencyId:"",password:"",valid_until:"",active:!1},e.indexuser=""},refreshView:function(e){e.refresh=!0},searchUserDepen:function(e,t){var a="";l.collection("Dependencies").get().then((function(n){n.forEach((function(n){n.data().name===t&&(a=n.id,e.users.forEach((function(t){t.dependencyId===a&&e.userbydepen.push(t)})))}))}))},cleanUsersDepen:function(e){e.userbydepen.splice(0,e.userbydepen.length)}},actions:{createDependency:function(e,t){var a=e.commit;a("createDependency",t)},updateMembers:function(e,t){var a=e.commit;a("updateMembers",t)},deleteDependency:function(e,t){var a=e.commit;a("deleteDependency",t)},editDependency:function(e,t){var a=e.commit;a("editDependency",t)},sendChangesDepen:function(e){var t=e.commit;t("sendChangesDepen")},createUser:function(e,t){var a=e.commit;a("createUser",t)},deleteUser:function(e,t){var a=e.commit;a("deleteUser",t)},editUser:function(e,t){var a=e.commit;a("editUser",t)},sendChangesUser:function(e){var t=e.commit;t("sendChangesUser")},refreshView:function(e){var t=e.commit;t("refreshView")},searchUserDepen:function(e,t){var a=e.commit;a("searchUserDepen",t)},cleanUsersDepen:function(e){var t=e.commit;t("cleanUsersDepen")}},getters:{editDepen:function(e){return e.editDepen},editUse:function(e){return e.editUse},users:function(e){return e.users},dependencies:function(e){return e.dependencies},userbydepen:function(e){return e.userbydepen}}}),Te=a("0ff2"),qe=[{path:"/",component:S},{path:"/user",component:ae,alias:"/edituser"},{path:"/dependency",component:ce,alias:"/editdepenency"},{path:"/users",component:_e},{path:"/dependencies",component:Oe},{path:"/searchfilter",component:Be}];n["a"].config.productionTip=!1,n["a"].use(V["a"]),n["a"].use(Te["a"]);var Ae=new V["a"]({routes:qe});new n["a"]({vuetify:B,router:Ae,store:Le,render:function(e){return e(w)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"92da":function(e,t,a){"use strict";var n=a("492b"),s=a.n(n);s.a},"9c0c":function(e,t,a){},"9cff":function(e,t,a){"use strict";var n=a("f7d9"),s=a.n(n);s.a},f4bd:function(e,t,a){"use strict";var n=a("1cdf"),s=a.n(n);s.a},f7d9:function(e,t,a){}});
//# sourceMappingURL=app.71ecb353.js.map